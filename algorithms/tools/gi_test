#!/bin/bash
# begin_generated_IBM_copyright_prolog                             
#                                                                  
# This is an automatically generated copyright prolog.             
# After initializing,  DO NOT MODIFY OR MOVE                       
# ---------------------------------------------------------------- 
# IBM Confidential                                                 
#                                                                  
# Licensed Machine Code Source Materials                           
#                                                                  
# Product(s):                                                      
#     Blue Gene/P Licensed Machine Code                            
#                                                                  
# (C) Copyright IBM Corp.  2007, 2007                              
#                                                                  
# The Source code for this program is not published  or otherwise  
# divested of its trade secrets,  irrespective of what has been    
# deposited with the U.S. Copyright Office.                        
#  --------------------------------------------------------------- 
#                                                                  
# end_generated_IBM_copyright_prolog                               

ranks='0 0 0 0
0 0 0 1
0 0 0 2
0 0 0 3
1 0 0 3
1 0 0 2
2 0 0 3
0 1 0 1
'

IFS="
"
rankv=(${ranks})
for t in m d; do
	for a in barrier; do
		./sched_test -V --tree --${a} -L "{${ranks}}" 0 | \
			./sched_verify -${t} ${*}
		if [[ $? -ne 0 ]]; then exit 1; fi
	done
done
